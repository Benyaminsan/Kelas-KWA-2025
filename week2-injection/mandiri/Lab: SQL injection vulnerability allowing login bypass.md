# Lab: SQL injection vulnerability allowing login bypass

## Deskripsi
This lab contains a SQL injection vulnerability in the login function.

To solve the lab, perform a SQL injection attack that logs in to the application as the administrator user.

## Resource

Link soal: https://portswigger.net/web-security/sql-injection/lab-login-bypass

Link referensi: https://portswigger.net/web-security/sql-injection

## Langkah - langkah
1. Langsung masuk saja di laba yang udah diakses, trus lakukan login
<img width="1328" height="482" alt="image" src="https://github.com/user-attachments/assets/e3f07ace-6719-4022-8a3a-7e461ced8001" />

2. Ingat disini pokoknya harus tahu tujuannya supaya bisa bypass login akunnya dengan mencari celahnya,  semisal ketika kita mau login maka query SQL akan seperti ini
```
SELECT * FROM users WHERE username = 'USER_INPUT' AND password = 'PASSWORD_INPUT';
```
Jikalau username dan Password emang cocok, maka yasudah server dari backend ini akan menganggap berhasil dan lanjut next step

3. Coba gunakan payload sql injection dari beberapa sumber github, kyk ini: https://github.com/payloadbox/sql-injection-payload-list 
semisal saya masukkan ``` ' OR '1'='1 ``` di username dan password
dan siapa sangka langsung berhasil:
<img width="1558" height="796" alt="image" src="https://github.com/user-attachments/assets/2d8d58ef-ca19-44a6-adf4-4c9709c3196b" />


Sebenarnya SQL Injection ini ada runtutan bila ingin solving challange ini, jadi gini:

# Catatan / Pembelajaran

## Ringkasan
Challenge ini menunjukkan kelemahan serius pada fungsi login yang rawan **SQL Injection**. Dengan menyuntikkan payload sederhana ke field `username`, attacker dapat masuk sebagai **administrator** tanpa mengetahui password


## Penjelasan mendalam

Ketika Anda memasukkan ' OR '1'='1 ke kedua kolom:
```
Username: ' OR '1'='1
Password: ' OR '1'='1
```
Query di server berubah menjadi:
```
SELECT * FROM users WHERE username = '' OR '1'='1' AND password = '' OR '1'='1';
```

Database tidak membaca query itu dari kiri ke kanan begitu saja. Ada urutan prioritas, di mana AND dievaluasi sebelum OR. Mari kita bedah kondisi WHERE tersebut:
```
WHERE username = '' OR '1'='1' AND password = '' OR '1'='1'
```
Database akan memprosesnya seperti ini:

1. ``username = '' ``â†’ Ini mencari pengguna dengan username kosong. Kemungkinan besar hasilnya FALSE.

2. ``'1'='1' AND password = ''`` â†’ Bagian ini dievaluasi terlebih dahulu.

- ``'1'='1'`` hasilnya TRUE.

- ``password = ''`` kemungkinan besar FALSE.

- Jadi, ``TRUE AND FALSE ``hasilnya adalah FALSE.

3.`` '1'='1' ``â†’ Kondisi terakhir ini hasilnya sudah pasti TRUE.

Sekarang, mari gabungkan hasil evaluasi di atas dengan operator`` OR``:

``(FALSE) OR (FALSE) OR (TRUE)``

Hasil akhir dari keseluruhan kondisi ini adalah TRUE.

Kesimpulan: 
Karena kondisi ``WHERE`` secara keseluruhan menjadi ``TRUE``, query tersebut pada dasarnya menyuruh database: "Pilih semua data dari tabel`` users ``karena kondisinya benar".

Database kemudian akan mengembalikan baris pertama yang ditemukannya dari tabel ``users ``(yang seringkali merupakan akun administrator). Aplikasi di server melihat bahwa query tersebut berhasil menemukan data pengguna, sehingga menganggap login berhasil dan memberikan Anda akses. ðŸ¥³


## Tambahan 
<img width="881" height="263" alt="image" src="https://github.com/user-attachments/assets/b0726ab0-75b9-49d5-9ce5-f1246332173d" />
diatas ini sebenarnya cara yang gampang karena dengan tools ini, bisa breakdown kodingan dan intercept logic 
